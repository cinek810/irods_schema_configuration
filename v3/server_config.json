{
    "id": "https://schemas.irods.org/configuration/v2/server_config.json#",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
        "default_dir_mode": {"type": "string"},
        "default_file_mode": {"type": "string"},
        "default_hash_scheme": {"type": "string"},
        "environment_variables": {
            "type": "object",
            "additionalProperties": {"type": "string"}
        },
        "federation": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "icat_host": {"type": "string"},
                    "negotiation_key": {"type": "string", "minLength": 32, "maxLength": 32},
                    "zone_key": {"type": "string", "pattern": "^[A-Za-z0-9_]+$", "maxLength": 49},
                    "zone_name": {"type": "string", "pattern": "^[A-Za-z0-9_\\.]+$", "maxLength": 63}
                },
                "required": ["icat_host","negotiation_key","zone_key","zone_name"]
            }
        },
        "icat_host": {"type": "string"},
        "kerberos_name": {"type": "string"},
        "match_hash_policy": {"type": "string"},
        "negotiation_key": {"type": "string", "minLength": 32, "maxLength": 32},
        "pam_no_extend": {"type": "boolean"},
        "pam_password_length": {"type": "integer"},
        "pam_password_max_time": {"type": "integer"},
        "pam_password_min_time": {"type": "integer"},
        "re_data_variable_mapping_set": {
            "type": "array",
            "items": {
                "$ref": "filename.json"
            }
        },
        "re_function_name_mapping_set": {
            "type": "array",
            "items": {
                "$ref": "filename.json"
            }
        },
        "re_rulebase_set": {
            "type": "array",
            "items": {
                "$ref": "filename.json"
            }
        },
        "schema_validation_base_uri": {"type": "string"},
        "server_control_plane_encryption_algorithm": {"type": "string"},
        "server_control_plane_encryption_num_hash_rounds": {"type": "integer"},
        "server_control_plane_key": {"type": "string", "minLength": 32, "maxLength": 32},
        "server_control_plane_port": {"type": "integer"},
        "server_control_plane_timeout_milliseconds": {"type": "integer"},
        "server_port_range_end": {"type": "integer"},
        "server_port_range_start": {"type": "integer"},
        "xmsg_port": {"type": "integer"},
        "zone_auth_scheme" : {"type": "string"},
        "zone_key": {"type": "string", "pattern": "^[A-Za-z0-9_]+$", "maxLength": 49},
        "zone_name": {"type": "string", "pattern": "^[A-Za-z0-9_\\.]+$", "maxLength": 63},
        "zone_port": {"type": "integer"},
        "zone_user": {"type": "string"}
    },
    "required": [
        "default_dir_mode",
        "default_file_mode",
        "default_hash_scheme",
        "environment_variables",
        "federation",
        "icat_host",
        "match_hash_policy",
        "negotiation_key",
        "re_data_variable_mapping_set",
        "re_function_name_mapping_set",
        "re_rulebase_set",
        "schema_validation_base_uri",
        "server_control_plane_encryption_algorithm",
        "server_control_plane_encryption_num_hash_rounds",
        "server_control_plane_key",
        "server_control_plane_port",
        "server_control_plane_timeout_milliseconds",
        "server_port_range_end",
        "server_port_range_start",
        "zone_auth_scheme",
        "zone_key",
        "zone_name",
        "zone_port",
        "zone_user"
    ]
}
